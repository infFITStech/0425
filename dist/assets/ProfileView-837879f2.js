import{i as K,j as y,o,k as i,t as r,l as k,b as e,n as L,p as w,c as N,q as O,s as U,x as z,r as g,y as M,z as J,f as S,A as G,F,B as D,v as Q,C as W,g as j,w as c,a,D as h,E as X,G as Y,u as _,H as A,J as P,K as V,M as H,N as Z,O as ee,P as le,Q as ae,R as se,T as te,U as E,_ as oe,d as I,V as ne,e as C,W as de,X as ce,Y as ie,Z as R,S as re}from"./index-0734d7b4.js";const ue={class:"mb-6 last:mb-0"},me=["for"],be={key:1,class:"text-xs text-gray-500 dark:text-slate-400 mt-1"},x={__name:"FormField",props:{label:{type:String,default:null},labelFor:{type:String,default:null},help:{type:String,default:null}},setup(l){const n=K(),t=y(()=>{const s=[],u=n.default().length;return u>1&&s.push("grid grid-cols-1 gap-3"),u===2&&s.push("md:grid-cols-2"),s});return(s,u)=>(o(),i("div",ue,[l.label?(o(),i("label",{key:0,for:l.labelFor,class:"block font-bold mb-2"},r(l.label),9,me)):k("",!0),e("div",{class:w(t.value)},[L(s.$slots,"default")],2),l.help?(o(),i("div",be,r(l.help),1)):k("",!0)]))}},pe={__name:"FormControlIcon",props:{icon:{type:String,default:null},h:{type:String,default:null}},setup(l){return(n,t)=>(o(),N(O,{path:l.icon,w:"w-10",h:l.h,class:"absolute top-0 left-0 z-10 pointer-events-none text-gray-500 dark:text-slate-400"},null,8,["path","h"]))}};const _e={class:"relative"},ve=["id","name"],fe=["value"],ge=["id","name","maxlength","placeholder","required"],he=["id","name","maxlength","inputmode","autocomplete","required","placeholder","type"],xe={__name:"FormControl",props:{name:{type:String,default:null},id:{type:String,default:null},autocomplete:{type:String,default:null},maxlength:{type:String,default:null},placeholder:{type:String,default:null},inputmode:{type:String,default:null},icon:{type:String,default:null},options:{type:Array,default:null},type:{type:String,default:"text"},modelValue:{type:[String,Number,Boolean,Array,Object],default:""},required:Boolean,borderless:Boolean,transparent:Boolean,ctrlKFocus:Boolean},emits:["update:modelValue","setRef"],setup(l,{emit:n}){const t=l,s=y({get:()=>t.modelValue,set:f=>{n("update:modelValue",f)}}),u=y(()=>{const f=["px-3 py-2 max-w-full focus:ring focus:outline-none border-gray-700 rounded w-full","dark:placeholder-gray-400 p25",v.value==="textarea"?"h-24":"h-12",t.borderless?"border-0":"border",t.transparent?"bg-transparent":"bg-white dark:bg-slate-800"];return t.icon&&f.push("pl-10"),f}),v=y(()=>t.options?"select":t.type),m=y(()=>t.type==="textarea"?"h-full":"h-12"),d=z(),T=g(null),q=g(null),$=g(null);if(M(()=>{T.value?n("setRef",T.value):q.value?n("setRef",q.value):n("setRef",$.value)}),t.ctrlKFocus){const f=b=>{b.ctrlKey&&b.key==="k"?(b.preventDefault(),$.value.focus()):b.key==="Escape"&&$.value.blur()};M(()=>{d.isFieldFocusRegistered||(window.addEventListener("keydown",f),d.isFieldFocusRegistered=!0)}),J(()=>{window.removeEventListener("keydown",f),d.isFieldFocusRegistered=!1})}return(f,b)=>(o(),i("div",_e,[v.value==="select"?S((o(),i("select",{key:0,id:l.id,"onUpdate:modelValue":b[0]||(b[0]=p=>s.value=p),name:l.name,class:w(u.value)},[(o(!0),i(F,null,D(l.options,p=>(o(),i("option",{key:p.id??p,value:p},r(p.label??p),9,fe))),128))],10,ve)),[[G,s.value]]):v.value==="textarea"?S((o(),i("textarea",{key:1,id:l.id,"onUpdate:modelValue":b[1]||(b[1]=p=>s.value=p),class:w(u.value),name:l.name,maxlength:l.maxlength,placeholder:l.placeholder,required:l.required},null,10,ge)),[[Q,s.value]]):S((o(),i("input",{key:2,id:l.id,ref_key:"inputEl",ref:$,"onUpdate:modelValue":b[2]||(b[2]=p=>s.value=p),name:l.name,maxlength:l.maxlength,inputmode:l.inputmode,autocomplete:l.autocomplete,required:l.required,placeholder:l.placeholder,type:v.value,class:w([u.value,"p25"])},null,10,he)),[[W,s.value]]),l.icon?(o(),N(pe,{key:3,icon:l.icon,h:m.value},null,8,["icon","h"])):k("",!0)]))}},B=U(xe,[["__scopeId","data-v-b01aba47"]]),ye=e("label",{class:"block font-bold mb-0 text-lg"},"品牌基本資訊 及 方案時間",-1),we={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ke={class:"lg:col-span-1"},$e={class:"lg:col-span-1"},Se={class:"space-y-3 text-center md:text-left lg:mx-12"},Ve={class:"text-2xl"},Fe=e("br",null,null,-1),Ce={key:0,class:"text-sm"},Ne={class:"flex justify-center md:block"},Be={__name:"UserCard",setup(l){const n=j(),t=n.cognitoUser?n.cognitoUser.username:"";return(s,u)=>(o(),N(V,null,{default:c(()=>[ye,a(h),a(X,{type:"justify-around lg:justify-center"},{default:c(()=>[e("div",we,[e("div",ke,[a(Y,{class:"lg:mx-12"})]),e("div",$e,[e("div",Se,[e("h1",Ve,[e("b",null,r(_(t)),1),Fe,_(n).MainConfig?(o(),i("label",Ce,r(_(n).MainConfig.BrandName),1)):k("",!0)]),e("div",Ne,[a(A,{label:"啟用中",color:"success",icon:_(P)},null,8,["icon"])])])])])]),_:1})]),_:1}))}};const Ue=l=>(se("data-v-a98081b2"),l=l(),te(),l),De={class:"text-sm"},Te=Ue(()=>e("label",{class:"font-bold mb-0 text-lg mr-3"},"付費訂閱",-1)),qe={class:"sm:flex mt-3 h-full"},Me={class:"sm:w-1/2 p-4"},Ee={class:"text-sm"},Ie=ae('<div class="hidden lg:block lg:w-px bg-gray-300" data-v-a98081b2></div><div class="sm:w-1/2 p-4" data-v-a98081b2><div class="grid grid-cols-1 lg:grid-cols-3 gap-6" data-v-a98081b2><div class="lg:col-span-1" data-v-a98081b2><label class="block font-bold mb-2 text-sm" data-v-a98081b2>繳費週期:</label></div><div class="lg:col-span-2" data-v-a98081b2><label class="block mb-2 text-sm" data-v-a98081b2>123</label></div><div class="lg:col-span-1" data-v-a98081b2><label class="block font-bold mb-2 text-sm" data-v-a98081b2>方案開始日:</label></div><div class="lg:col-span-2" data-v-a98081b2><label class="block mb-2 text-sm" data-v-a98081b2>123</label></div><div class="lg:col-span-1" data-v-a98081b2><label class="block font-bold mb-2 text-sm" data-v-a98081b2>方案到期日:</label></div><div class="lg:col-span-2" data-v-a98081b2><label class="block mb-2 text-sm" data-v-a98081b2>123</label></div><div class="lg:col-span-1" data-v-a98081b2><label class="block font-bold mb-2 text-sm" data-v-a98081b2>付款方式:</label></div><div class="lg:col-span-2" data-v-a98081b2><label class="block mb-2 text-sm" data-v-a98081b2>123</label></div></div></div>',2),Re={__name:"OrderNow",setup(l){const n=g(["項目1","項目2","項目3","項目4","項目5","項目6","項目7","項目4","項目5","項目6","項目7"]),t=g(!1),s=()=>{t.value=!t.value};return(u,v)=>(o(),i(F,null,[e("div",De,[Te,a(A,{label:"啟用中",color:"success",icon:_(P)},null,8,["icon"]),a(H,{label:"購買方案",color:"info",class:w({"float-right":!0})})]),e("div",qe,[e("div",Me,[e("div",Ee,[e("div",{class:"flex justify-between items-center cursor-pointer",onClick:s},[e("span",null,"擴充功能 ("+r(n.value.length)+")",1),a(O,{path:t.value?_(Z):_(ee),class:"hidden lg:inline-flex transition-colors"},null,8,["path"])]),S(e("div",null,[e("ul",null,[(o(!0),i(F,null,D(n.value,(m,d)=>(o(),i("li",{key:d},r(m),1))),128))])],512),[[le,t.value]])])]),Ie])],64))}},Oe=U(Re,[["__scopeId","data-v-a98081b2"]]),je={};function Ae(l,n){return" hello2 "}const Pe=U(je,[["render",Ae]]),He={style:{"padding-left":"15px","padding-right":"15px"}},Ke={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Le=e("label",{class:"block font-bold mb-2 text-lg"},"更改密碼",-1),ze=e("label",{class:"block font-bold mb-2 text-lg"},"品牌帳單資訊",-1),Je={key:0,class:"block mb-2 text-lg"},Ge=e("thead",{class:"TH"},[e("tr",null,[e("th",null,"項目名稱"),e("th",null,"描述"),e("th",null,"數量"),e("th",null,"單位"),e("th",null,"金額")])],-1),Qe={class:"TD","data-label":"項目名稱"},We={class:"TD","data-label":"描述"},Xe={class:"TD","data-label":"數量"},Ye={class:"TD","data-label":"單位"},Ze={class:"TD","data-label":"金額"},el={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ll=e("label",{class:"block font-bold mb-2 text-lg"},"線下匯款",-1),al=e("div",{class:"grid grid-cols-1 md:grid-cols-3 lg:gap-6"},[e("div",{class:"md:col-span-1"},[e("label",{class:"block mb-2 text-sm"},"帳戶:")]),e("div",{class:"md:col-span-2"},[e("label",{class:"block mb-2 text-sm"},"123")]),e("div",{class:"md:col-span-1"},[e("label",{class:"block mb-2 text-sm"},"銀行:")]),e("div",{class:"md:col-span-2"},[e("label",{class:"block mb-2 text-sm"},"123")]),e("div",{class:"md:col-span-1"},[e("label",{class:"block mb-2 text-sm"},"分行代碼:")]),e("div",{class:"md:col-span-2"},[e("label",{class:"block mb-2 text-sm"},"123")]),e("div",{class:"md:col-span-1"},[e("label",{class:"block mb-2 text-sm"},"銀行代碼:")]),e("div",{class:"md:col-span-2"},[e("label",{class:"block mb-2 text-sm"},"123")]),e("div",{class:"md:col-span-1"},[e("label",{class:"block mb-2 text-sm"},"帳戶號碼:")]),e("div",{class:"md:col-span-2"},[e("label",{class:"block mb-2 text-sm"},"123")])],-1),sl=e("label",{class:"block mb-2 text-sm"},[C("請通知線上顧問後五碼，或以電子郵件方式回覆至，"),e("a",{href:"mailto:example@example.com"},"example@example.com"),C(" 我們會為您確認款項。")],-1),ol={__name:"ProfileView",setup(l){const n=j(),t=g(n.MainConfig.Billing[0].Item),s=g({password_current:"",password:"",password_confirmation:""});g([{name:"本期訂閱",component:E(Oe)},{name:"下期訂閱",component:E(Pe)}]);const u=async()=>{if(s.value.password!==s.value.password_confirmation){alert("請確認兩次輸入的新密碼相同");return}n.cognitoUser.changePassword(s.value.password_current,s.value.password,(v,m)=>{if(v){alert(v.message||JSON.stringify(v));return}alert("密碼已修改成功"),s.value={password_current:"",password:"",password_confirmation:""}})};return(v,m)=>(o(),N(oe,null,{default:c(()=>[a(re,null,{default:c(()=>[a(I,{icon:_(ne),title:"商家設定",main:""},{default:c(()=>[C("   ")]),_:1},8,["icon"]),e("div",He,[a(Be,{class:"mb-6"}),e("div",Ke,[a(V,{"is-form":"",onSubmit:de(u,["prevent"])},{footer:c(()=>[a(ce,null,{default:c(()=>[a(H,{type:"submit",color:"info",label:"Submit"})]),_:1})]),default:c(()=>[Le,a(h),a(x,{label:"現在密碼"},{default:c(()=>[a(B,{modelValue:s.value.password_current,"onUpdate:modelValue":m[0]||(m[0]=d=>s.value.password_current=d),icon:_(ie),name:"password_current",type:"password",required:"",autocomplete:"current-password"},null,8,["modelValue","icon"])]),_:1}),a(h),a(x,{label:"更新密碼"},{default:c(()=>[a(B,{modelValue:s.value.password,"onUpdate:modelValue":m[1]||(m[1]=d=>s.value.password=d),icon:_(R),name:"password",type:"password",required:"",autocomplete:"new-password"},null,8,["modelValue","icon"])]),_:1}),a(x,{label:"確認更新密碼"},{default:c(()=>[a(B,{modelValue:s.value.password_confirmation,"onUpdate:modelValue":m[2]||(m[2]=d=>s.value.password_confirmation=d),icon:_(R),name:"password_confirmation",type:"password",required:"",autocomplete:"new-password"},null,8,["modelValue","icon"])]),_:1})]),_:1},8,["onSubmit"]),a(V,null,{default:c(()=>[ze,a(h),t.value.length?k("",!0):(o(),i("label",Je,"沒有服務費用")),e("table",null,[Ge,e("tbody",null,[(o(!0),i(F,null,D(t.value,d=>(o(),i("tr",{key:d["#"]},[e("td",Qe,r(d.項目名稱),1),e("td",We,r(d.描述),1),e("td",Xe,r(d.數量),1),e("td",Ye,r(d.單位),1),e("td",Ze,r(d.金額?d.金額:"-"),1)]))),128))])])]),_:1})]),a(h),a(I,{title:"匯款資訊"},{default:c(()=>[C("  ")]),_:1}),e("div",el,[a(V,null,{default:c(()=>[ll,a(h),a(x,{label:"付款指示"},{default:c(()=>[al]),_:1}),a(x,{label:"付款完成後"},{default:c(()=>[sl]),_:1})]),_:1})])])]),_:1})]),_:1}))}};export{ol as default};
