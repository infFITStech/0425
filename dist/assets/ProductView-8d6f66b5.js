import{s as re,g as ae,c3 as de,r as g,y as ce,bm as he,o as n,c as me,w as N,_ as ge,c2 as C,a as F,d as K,u as w,c4 as pe,e as x,b as e,k as r,B as u,p as c,t as h,c5 as Q,f as S,F as f,W as U,b2 as _e,l as T,S as ue,$ as R,R as fe,T as we}from"./index-46194475.js";import{_ as $}from"./inffits_f_black-f5176971.js";import"./bootstrap.min-63fd26ea.js";const a=B=>(fe("data-v-9788255e"),B=B(),we(),B),xe={class:"container-fluid pb-3"},ve={class:"col-12"},be={class:"h-100 flex-grow-1 bg-white rounded container-fluid"},ye={class:"row d-flex align-items-center py-4"},ke={class:"col-2 col-md-1 flex-grow-0 mb-4 mb-md-0 px-3"},Ce={class:"profile-img m-0",style:{"border-style":"none","box-shadow":"rgba(0,0,0,0.15) 0 2px 8px"}},Te={class:"img-circle-wrapper"},Be=["src"],ze={class:"flex-row col-7 col-md-2 text-body font-bold mb-4 mb-md-0 px-0",style:{"white-space":"nowrap","overflow-x":"scroll","-ms-overflow-style":"none","scrollbar-width":"none",display:"flex"}},Ie={class:"ItemName-width",style:{"white-space":"nowrap","overflow-x":"scroll","-ms-overflow-style":"none","scrollbar-width":"none",display:"flex",width:"calc(100% - 16px)"}},Me={href:"product.Link",target:"_blank",style:{display:"flex","padding-left":"4px"}},Ne={viewBox:"0 0 24 24",width:"16px",height:"16px",class:"inline-block"},Se=["d"],Re={class:"col-3 d-flex d-md-none text-right align-items-center mb-4",style:{"justify-content":"flex-end"}},Pe={class:"d-flex d-md-none mx-3"},$e={class:"flex-shrink-0 mr-1",style:{display:"inline-flex"}},Le=["onClick","disabled"],Ve=a(()=>e("img",{src:$,alt:"f",class:"m-1",style:{height:"10px",width:"auto","vertical-align":"middle","margin-right":"3px"}},null,-1)),De={class:"col-12 px-md-0 col-md flex-shrink-0 flex-grow-1 d-flex flex-column flex-md-row align-items-center",style:{"justify-content":"start"}},je={class:"dropdown mr-md-1 mr-lg-1 mb-1 mb-md-0 ml-md-1 px-0 border rounded-pill btn brand-route-choose",style:{color:"gray","text-align":"left"}},Je={class:"w-100",type:"button","data-toggle":"dropdown","aria-expanded":"false"},Ee={class:"pl-2",style:{color:"gray","white-space":"nowrap","overflow-x":"scroll","-ms-overflow-style":"none","scrollbar-width":"none",width:"calc(100% - 1em)"}},Fe=a(()=>e("button",{class:"dropdown-toggle"},null,-1)),He={class:"dropdown-menu",id:"brand-route-menu"},We=a(()=>e("div",{class:"dropdown-item",disabled:""}," 選擇欲顯示的詢問動線 ",-1)),Ae=["onClick"],qe={class:"d-none d-md-flex col-auto text-right pr-2 pl-0 align-items-center"},Ke={class:"flex-shrink-0 mr-1",style:{display:"inline-flex"}},Qe=["onClick","disabled"],Ue=a(()=>e("img",{src:$,alt:"f",class:"m-1",style:{height:"10px",width:"auto","vertical-align":"middle","margin-right":"3px"}},null,-1)),Xe={class:"container-fluid pb-3"},Ye={class:"col-12"},Ze={class:"h-100 flex-grow-1 bg-white rounded container-fluid"},Oe={class:"row d-flex align-items-center py-4"},Ge={class:"col-2 col-md-1 flex-grow-0 mb-4 mb-md-0 px-3"},et={class:"profile-img m-0",style:{"border-style":"none","box-shadow":"rgba(0,0,0,0.15) 0 2px 8px"}},tt={class:"img-circle-wrapper"},st=["src"],ot={class:"flex-row col-7 col-md-2 text-body font-bold mb-4 mb-md-0 px-0",style:{"white-space":"nowrap","overflow-x":"scroll","-ms-overflow-style":"none","scrollbar-width":"none",display:"flex"}},lt={class:"ItemName-width",style:{"white-space":"nowrap","overflow-x":"scroll","-ms-overflow-style":"none","scrollbar-width":"none",display:"flex",width:"calc(100% - 16px)"}},it=["href"],nt={viewBox:"0 0 24 24",width:"16px",height:"16px",class:"inline-block"},rt=["d"],at={class:"col-3 d-flex d-md-none text-right align-items-center mb-4",style:{"justify-content":"flex-end"}},dt={class:"d-flex d-md-none mx-3"},ct={class:"flex-shrink-0 mr-1",style:{display:"inline-flex"}},ht=["onClick","disabled"],mt=a(()=>e("img",{src:$,alt:"f",class:"m-1",style:{height:"10px",width:"auto","vertical-align":"middle","margin-right":"3px"}},null,-1)),gt=a(()=>e("div",{class:"d-flex d-md-none text-left"},[e("label",{class:"h3 text-danger d-inline-flex align-items-center cursor-pointer mb-0"},[e("input",{type:"checkbox",value:"",class:"sr-only peer",checked:""}),e("div",{class:"toggle-switch relative h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",style:{}})])],-1)),pt={class:"col-12 px-md-0 col-md flex-shrink-0 flex-grow-1 d-flex flex-column flex-md-row align-items-center"},_t={class:"dropdown mr-md-1 mr-lg-1 mb-1 mb-md-0 ml-md-1 w100-max768 px-0 border rounded-pill btn",style:{color:"gray","text-align":"left"}},ut={class:"w-100",type:"button","data-toggle":"dropdown","aria-expanded":"false"},ft={class:"pl-2",style:{color:"gray","white-space":"nowrap","overflow-x":"scroll","-ms-overflow-style":"none","scrollbar-width":"none",width:"calc(100% - 1em)"}},wt=a(()=>e("button",{class:"dropdown-toggle"},null,-1)),xt={class:"dropdown-menu",id:"route-menu"},vt=a(()=>e("div",{class:"dropdown-item",disabled:""}," 選擇欲顯示的詢問動線 ",-1)),bt=["onClick"],yt={class:"dropdown mr-md-1 mb-1 mb-md-0 w100-max768 px-0 border btn",style:{"border-radius":"0.25rem",color:"gray","text-align":"left"}},kt=a(()=>e("span",{class:"w-100",type:"button","data-toggle":"dropdown","aria-expanded":"false"},[e("button",{class:"pl-2",style:{color:"gray","white-space":"nowrap","overflow-x":"scroll","-ms-overflow-style":"none","scrollbar-width":"none",width:"calc(100% - 1em)"}},h("新增標籤")),e("button",{class:"dropdown-toggle"})],-1)),Ct=["id"],Tt={class:"text-right"},Bt=["onClick"],zt=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 18 18"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",d:"m15.5 15.5l-10-10zm0-10l-10 10"})],-1)),It=[zt],Mt={class:"text-gray ml-2 mb-2"},Nt={class:"container-fluid"},St={class:"row"},Rt=["onClick"],Pt={key:0,class:"position-absolute left-0",style:{top:"50%",transform:"translate(50%, -50%)"}},$t=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{d:"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),e("path",{fill:"currentColor",d:"M11 20a1 1 0 1 0 2 0v-7h7a1 1 0 1 0 0-2h-7V4a1 1 0 1 0-2 0v7H4a1 1 0 1 0 0 2h7z"})])],-1)),Lt=[$t],Vt={class:"w-100 text-center d-inline-flex align-items-center px-3 px-md-4 py-1 py-md-1",style:{"line-height":"1.5"}},Dt={class:"profile-img m-1",style:{border:"none",width:"20px","min-width":"20px"}},jt={class:"img-circle-wrapper"},Jt=["src"],Et={style:{"white-space":"nowrap","overflow-x":"scroll","-ms-overflow-style":"none","scrollbar-width":"none"}},Ft={key:1,class:"position-absolute right-0",style:{top:"50%",transform:"translate(-50%, -50%)"}},Ht=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 18 18"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",d:"m15.5 15.5l-10-10zm0-10l-10 10"})],-1)),Wt=[Ht],At={class:"container-fluid px-0 mr-md-2 border py-1 px-2",style:{"border-radius":"13px","min-height":"39px"}},qt={class:"row m-0"};const Kt=["hint-group"],Qt={class:"profile-img mr-1 ml-0",style:{border:"none",width:"20px","min-width":"20px"}},Ut={class:"img-circle-wrapper"},Xt=["src"],Yt={style:{"white-space":"nowrap","overflow-x":"scroll","-ms-overflow-style":"none","scrollbar-width":"none"}},Zt=["onClick"],Ot=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 18 18"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",d:"m15.5 15.5l-10-10zm0-10l-10 10"})],-1)),Gt=[Ot],es={key:0,class:"flex-shrink-0 inline-block"},ts=["data-target","aria-controls"],ss=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"},[e("path",{fill:"currentColor",d:"M14 10.25a1.25 1.25 0 1 1 2.5 0a1.25 1.25 0 0 1-2.5 0m-5 0a1.25 1.25 0 1 1 2.5 0a1.25 1.25 0 0 1-2.5 0m-5 0a1.249 1.249 0 1 1 2.5 0a1.25 1.25 0 1 1-2.5 0"})],-1)),os=[ss],ls=["id"];const is=["hint-group"],ns={class:"profile-img mr-1 ml-0",style:{border:"none",width:"20px","min-width":"20px"}},rs={class:"img-circle-wrapper"},as=["src"],ds={style:{"white-space":"nowrap","overflow-x":"scroll","-ms-overflow-style":"none","scrollbar-width":"none"}},cs=["onClick"],hs=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 18 18"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",d:"m15.5 15.5l-10-10zm0-10l-10 10"})],-1)),ms=[hs],gs={class:"d-none d-md-flex col-auto text-right pr-2 pl-0 align-items-center"},ps={class:"flex-shrink-0 mr-1",style:{display:"inline-flex"}},_s=["onClick","disabled"],us=a(()=>e("img",{src:$,alt:"f",class:"m-1",style:{height:"10px",width:"auto","vertical-align":"middle","margin-right":"3px"}},null,-1)),fs=a(()=>e("label",{class:"h3 text-danger d-inline-flex align-items-center cursor-pointer mb-0"},[e("input",{type:"checkbox",value:"",class:"sr-only peer",checked:""}),e("div",{class:"toggle-switch relative h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",style:{}})],-1)),ws={class:"modal fade",id:"deleteModal",tabindex:"-1",role:"dialog","aria-hidden":"true"},xs={class:"modal-dialog modal-dialog-centered",role:"document"},vs={class:"modal-content"},bs=a(()=>e("div",{class:"modal-header border-0"},[e("h5",{class:"modal-title"},"確認刪除"),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"×")])],-1)),ys=a(()=>e("div",{class:"modal-body"},[e("h5",null,"是否確認刪除此產品？")],-1)),ks={class:"modal-footer border-0"},Cs=a(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"取消操作",-1)),Ts={id:"preview_box",style:{position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px","z-index":"2147483647",background:"rgba(0, 0, 0, 0.5)",transform:"none",display:"none"}},Bs={id:"inffits_cblock",style:{"z-index":"60",display:"block",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",margin:"auto"}},zs={id:"tryon"},Is=["src"],Ms=a(()=>e("img",{src:"https://inffits.com/webDesign/HTML/img/cancel.png",style:{position:"absolute",top:"0",bottom:"0",right:"0",left:"0",width:"10px",margin:"auto"}},null,-1)),Ns=[Ms],P="請選擇動線",Ss={__name:"ProductView",setup(B){const v=ae();de();const X=g("http://127.0.0.1:5501/iframe_container_module.html");g(v.MainConfig.Brand);const p=g(4),Y=g(!1),Z=g([]),L=g([]),z=g([]),b=g([]),V=g([]),H=g({Route:"",Tags:{}});window.addEventListener("resize",()=>{window.innerWidth<990?p.value=2:window.innerWidth<1150?p.value=3:p.value=4});const O=async()=>{const t=await C.get("https://xjsoc4o2ci.execute-api.ap-northeast-1.amazonaws.com/v0/extension/get_tags?Brand=INFS&Per_Page=100&Page=1"),l={};t.data.models.forEach(i=>{l[i.TagGroup]||(l[i.TagGroup]=[]),l[i.TagGroup].push(i)}),L.value=[],L.value=Object.keys(l).map(i=>({group:i,tags:l[i]}))},G=async()=>{const t=await C.get("https://xjsoc4o2ci.execute-api.ap-northeast-1.amazonaws.com/v0/extension/get_routes?Brand=INFS&Per_Page=100&Page=1");z.value=[...t.data.models]},D=async()=>{const t=await C.get("https://xjsoc4o2ci.execute-api.ap-northeast-1.amazonaws.com/v0/extension/get_products?Brand=INFS&Per_Page=100&Page=1");Z.value=t.data.models,b.value=[...t.data.models],console.log("bye",b.value[5]),V.value=[],b.value=b.value.filter(l=>l.ClothID.endsWith("_All")?(V.value.push(l),!1):!0)},ee=(t={id:String(new Date().getTime()),Tags:{},Routes:[]},l=!0,i="editModal")=>{H.value=Object.assign({id:String(new Date().getTime()),Tags:{},Routes:[]},JSON.parse(JSON.stringify(t))),l&&te(i)},te=t=>{R(`#${t}`).modal("toggle")},W=t=>z.value.includes(t==null?void 0:t[0].Name)?(t==null?void 0:t[0].Name)||null:"選擇動線",I=(t,l,i)=>t.Tags[l]&&t.Tags[l].some(s=>s.Tag===i.Tag),A=(t,l,i)=>{const s=t.Tags[l].findIndex(m=>m.Tag===i.Tag);s!==-1&&(t.Tags[l].splice(s,1),E({Routes:t.Routes,Tags:t.Tags,id:t.id}))},se=t=>{R(t).dropdown("hide")},q=(t,l)=>{t.Routes=[l],E({Routes:t.Routes,Tags:t.Tags,id:t.id})},oe=()=>{R("#preview_box").fadeOut(),setTimeout(()=>{Y.value=!1},400)},le=(t,l,i)=>{t.Tags[l]||(t.Tags[l]=[]);const s=t.Tags[l].findIndex(m=>m.Tag===i.Tag);s===-1?t.Tags[l].push(i):t.Tags[l].splice(s,1),E({Product:t.Product,Tags:t.Tags,id:t.id})},j=t=>{const l=[];for(const i in t.Tags)t.Tags[i].forEach(s=>{l.push({tag:s,group:i})});return JSON.parse(JSON.stringify(l))},J=g(null),E=async t=>{const l={Brand:"INFS",...t},i=await C.post("https://xjsoc4o2ci.execute-api.ap-northeast-1.amazonaws.com/v0/extension/update_product",l);console.log(i),D()},M=(t,l)=>{R("#preview_box").fadeIn();var i={};i.id=t,i.header="from_preview",i.brand=l,J.value&&J.value.contentWindow.postMessage(i,"*")},ie=async()=>{const t=await C.delete(`https://xjsoc4o2ci.execute-api.ap-northeast-1.amazonaws.com/v0/extension/del_product?Brand=INFS&id=${H.value.id}`);console.log(t),D(),ee({},!0,"deleteModal")};return ce(()=>{O(),G(),D(),window.innerWidth<990?p.value=2:window.innerWidth<1150?p.value=3:p.value=4}),(t,l)=>{const i=he("tooltip");return n(),me(ge,null,{default:N(()=>[F(ue,null,{default:N(()=>[F(K,{icon:w(pe),title:"官網及商品管理",main:""},{default:N(()=>[x("   ")]),_:1},8,["icon"]),e("div",xe,[(n(!0),r(f,null,u(V.value,(s,m)=>(n(),r("div",{key:m,class:"row mb-3"},[e("div",ve,[e("div",be,[e("div",ye,[e("div",ke,[e("div",Ce,[e("div",Te,[e("div",{class:c(["img-circle img-fluid bg-gray-light",w(v).MainConfig.Logo?"":"d-none"])},null,2),e("img",{class:c(["img-circle img-fluid",w(v).MainConfig.Logo?"":"d-none"]),src:w(v).MainConfig.Logo,alt:""},null,10,Be)])])]),e("div",ze,[e("span",Ie,h(w(v).MainConfig.BrandName),1),e("a",Me,[(n(),r("svg",Ne,[e("path",{fill:"currentColor",d:w(Q)},null,8,Se)]))])]),e("div",Re,[e("div",Pe,[e("div",$e,[S((n(),r("button",{class:"btn h4 mb-0 pl-2 bg-white border d-flex align-items-center justify-content-center rounded-pill rounded-md-circle",type:"button",onClick:o=>M(s.ClothID,s.Brand),style:{"box-shadow":"rgba(0,0,0,0.15) 0 2px 8px","font-size":"12px"},disabled:s.Routes.length==0},[Ve,x(" 預覽 ")],8,Le)),[[i,P]])])])]),e("div",De,[e("div",je,[e("span",Je,[e("button",Ee,h(s.Routes.length?W(s.Routes):"選擇動線"),1),Fe]),e("div",He,[We,(n(!0),r(f,null,u(z.value,(o,d)=>(n(),r("div",{key:o.Route,class:"dropdown-item",onClick:_=>q(s,o)},h(o.Name)+" ("+h(o.TagGroups_order.join(" - "))+") ",9,Ae))),128))])])]),e("div",qe,[e("div",Ke,[S((n(),r("button",{class:"btn h4 mb-0 pl-2 bg-white border d-flex align-items-center justify-content-center rounded-pill rounded-md-circle",type:"button",onClick:o=>M(s.ClothID,s.Brand),style:{"box-shadow":"rgba(0,0,0,0.15) 0 2px 8px","font-size":"12px"},disabled:s.Routes.length==0},[Ue,x(" 預覽 ")],8,Qe)),[[i,P]])])])])])])]))),128))]),F(K,{title:"商品管理"},{default:N(()=>[x("  ")]),_:1}),e("div",Xe,[(n(!0),r(f,null,u(b.value,(s,m)=>(n(),r("div",{key:m,class:"row mb-3"},[e("div",Ye,[e("div",Ze,[e("div",Oe,[e("div",Ge,[e("div",et,[e("div",tt,[e("div",{class:c(["img-circle img-fluid bg-gray-light",s.Imgsrc?"":"d-none"])},null,2),e("img",{class:c(["img-circle img-fluid",s.Imgsrc?"":"d-none"]),src:s.Imgsrc,alt:""},null,10,st)])])]),e("div",ot,[e("span",lt,h(s.ItemName),1),e("a",{href:s.Link,target:"_blank",style:{display:"flex","padding-left":"4px"}},[(n(),r("svg",nt,[e("path",{fill:"currentColor",d:w(Q)},null,8,rt)]))],8,it)]),e("div",at,[e("div",dt,[e("div",ct,[S((n(),r("button",{class:"btn h4 mb-0 pl-2 bg-white border d-flex align-items-center justify-content-center rounded-pill rounded-md-circle",type:"button",onClick:o=>M(s.ClothID,s.Brand),style:{"box-shadow":"rgba(0,0,0,0.15) 0 2px 8px","font-size":"12px"},disabled:s.Routes.length==0},[mt,x(" 預覽 ")],8,ht)),[[i,P]])])]),gt]),e("div",pt,[e("div",_t,[e("span",ut,[e("button",ft,h(s.Routes.length?W(s.Routes):"選擇動線"),1),wt]),e("div",xt,[vt,(n(!0),r(f,null,u(z.value,(o,d)=>(n(),r("div",{key:o.Route,class:"dropdown-item",onClick:_=>q(s,o)},h(o.Name)+" ("+h(o.TagGroups_order.join(" - "))+") ",9,bt))),128))])]),e("div",yt,[kt,e("div",{id:`tagDropdownMenu${m}`,class:"dropdown-menu p-2",style:{"min-width":"400px","max-height":"500px","overflow-y":"scroll","scrollbar-width":"thin"},onclick:"event.stopPropagation()"},[e("div",Tt,[e("button",{type:"button",class:"btn btn-sm rounded-circle",onClick:U(o=>se(`#tagDropdownMenu${m}`),["stop"])},It,8,Bt)]),(n(!0),r(f,null,u(L.value,o=>(n(),r("div",{key:o,class:"d-flex flex-column mb-2"},[e("div",Mt,h(o.group||"新增標籤"),1),e("div",Nt,[e("div",St,[(n(!0),r(f,null,u(o.tags,d=>(n(),r("div",{key:d,class:"col-4 p-0 px-1 mb-2"},[e("div",{class:c(["w-100 cursor-pointer d-flex align-items-center border position-relative",I(s,o.group,d)?"bg-secondary text-white":" text-secondary"]),style:_e([I(s,o.group,d)?"":"backgroundColor: rgb(243,243,243);",{"line-height":"1","border-radius":"6px"}]),onClick:U(_=>le(s,o.group,d),["stop"])},[I(s,o.group,d)?T("",!0):(n(),r("div",Pt,Lt)),e("div",Vt,[e("div",Dt,[e("div",jt,[e("div",{class:c(["img-circle img-fluid",d.Imgsrc?"":"d-none"])},null,2),e("img",{class:c(["img-circle img-fluid",d.Imgsrc?"":"d-none"]),src:d.Imgsrc,alt:""},null,10,Jt)])]),e("div",Et,h(d.Name),1)]),I(s,o.group,d)?(n(),r("div",Ft,Wt)):T("",!0)],14,Rt)]))),128))])])]))),128))],8,Ct)]),e("div",At,[e("div",qt,[(n(!0),r(f,null,u(JSON.parse(JSON.stringify(j(s))).slice(0,p.value),o=>{var d,_,y,k;return n(),r("div",{key:o,class:"col-12 col-md-3 p-0 px-1 mb-1 mb-md-0"},[e("div",{class:c(["w-100 d-flex align-items-center position-relative","bg-white text-gray"]),style:{cursor:"default"}},[T("",!0),e("div",{class:"w-100 text-center d-inline-flex align-items-center px-3 pr-md-4 py-1 border hint-group",style:{"border-radius":"6px","background-color":"rgb(243,243,243)"},"hint-group":"主題: "+o.group},[e("div",Qt,[e("div",Ut,[e("div",{class:c(["img-circle img-fluid bg-white border-primary",(d=o.tag)!=null&&d.Imgsrc?"d-none":""])},null,2),e("img",{class:c(["img-circle img-fluid",(_=o.tag)!=null&&_.Imgsrc?"":"d-none"]),src:(y=o.tag)==null?void 0:y.Imgsrc,alt:""},null,10,Xt)])]),e("div",Yt,h((k=o.tag)==null?void 0:k.Name),1)],8,Kt),(n(),r("div",{key:1,class:"position-absolute right-0 cursor-pointer",style:{top:"50%",transform:"translate(-50%, -50%)"},onClick:ne=>A(s,o.tag.TagGroup,o.tag)},Gt,8,Zt))])])}),128)),j(s).length>p.value?(n(),r("div",es,[e("button",{class:"btn h4 mb-0 p-0 bg-white border d-flex align-items-center justify-content-center rounded-pill rounded-md-circle",type:"button","data-toggle":"collapse","data-target":`#collapseTag${m}`,"aria-expanded":"false","aria-controls":`collapseTag${m}`,style:{width:"2rem",height:"2rem"}},os,8,ts)])):T("",!0)]),e("div",{class:"collapse row m-0 mt-1",id:`collapseTag${m}`},[(n(!0),r(f,null,u(JSON.parse(JSON.stringify(j(s))).slice(p.value),o=>{var d,_,y,k;return n(),r("div",{key:o,class:"col-12 col-md-3 p-0 px-1 mb-1 mb-md-1"},[e("div",{class:c(["w-100 d-flex align-items-center position-relative","bg-white text-gray"]),style:{cursor:"default"}},[T("",!0),e("div",{class:"w-100 text-center d-inline-flex align-items-center px-3 pr-md-4 py-1 border hint-group",style:{"border-radius":"6px","background-color":"rgb(243,243,243)"},"hint-group":"主題: "+o.group},[e("div",ns,[e("div",rs,[e("div",{class:c(["img-circle img-fluid bg-white border-primary",(d=o.tag)!=null&&d.Imgsrc?"d-none":""])},null,2),e("img",{class:c(["img-circle img-fluid",(_=o.tag)!=null&&_.Imgsrc?"":"d-none"]),src:(y=o.tag)==null?void 0:y.Imgsrc,alt:""},null,10,as)])]),e("div",ds,h((k=o.tag)==null?void 0:k.Name),1)],8,is),(n(),r("div",{key:1,class:"position-absolute right-0 cursor-pointer",style:{top:"50%",transform:"translate(-50%, -50%)"},onClick:ne=>A(s,o.tag.TagGroup,o.tag)},ms,8,cs))])])}),128))],8,ls)])]),e("div",gs,[e("div",ps,[S((n(),r("button",{class:"btn h4 mb-0 pl-2 bg-white border d-flex align-items-center justify-content-center rounded-pill rounded-md-circle",type:"button",onClick:o=>M(s.ClothID,s.Brand),style:{"box-shadow":"rgba(0,0,0,0.15) 0 2px 8px","font-size":"12px"},disabled:s.Routes.length==0},[us,x(" 預覽 ")],8,_s)),[[i,P]])]),fs])])])])]))),128)),e("div",ws,[e("div",xs,[e("div",vs,[bs,ys,e("div",ks,[Cs,e("button",{type:"button",class:"btn btn-primary",onClick:l[0]||(l[0]=s=>ie())},"刪除")])])])])]),e("div",Ts,[e("div",Bs,[e("div",zs,[e("iframe",{ref_key:"myiframe",ref:J,id:"inffits_tryon_window",style:{width:"100%",height:"100%",visibility:"visible",position:"relative",border:"none",outline:"none","z-index":"14","border-radius":"10px","box-shadow":"rgba(0, 0, 0, 0.15) 0px 2px 8px"},src:X.value},null,8,Is)]),e("div",{id:"inf_close",onClick:l[1]||(l[1]=s=>oe()),style:{cursor:"pointer",position:"absolute",top:"-5px","z-index":"10000009",right:"-10px",padding:"5px",height:"25px",width:"25px","border-radius":"50%","box-shadow":"rgb(54 62 81 / 15%) 0px 0.0625rem 0.125rem 0.0625rem",background:"white",opacity:"1"}},Ns)])])]),_:1})]),_:1})}}},Ls=re(Ss,[["__scopeId","data-v-9788255e"]]);export{Ls as default};
